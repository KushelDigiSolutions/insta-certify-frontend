(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{7393:function(e,t,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/order",function(){return c(7151)}])},347:function(e,t,c){"use strict";c.r(t),c.d(t,{default:function(){return d}});var o=c(5893),a=c(1664),n=c.n(a);c(7294);var s=c(8122),i=c.n(s);function d(e){return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:i().accountNavigation,children:(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{className:"1"==e.isActive?i().isActive:"",children:(0,o.jsx)(n(),{href:"/account/order",children:"Orders"})}),(0,o.jsx)("li",{className:"2"==e.isActive?i().isActive:"",children:(0,o.jsx)(n(),{href:"/account/address-book",children:"Addresses"})}),(0,o.jsx)("li",{className:"3"==e.isActive?i().isActive:"",children:(0,o.jsx)(n(),{href:"/account/account-details",children:"Account Settings"})})]})})})}},7151:function(e,t,c){"use strict";c.r(t),c.d(t,{__N_SSP:function(){return m},default:function(){return p}});var o=c(5893),a=c(7294),n=c(9008),s=c.n(n),i=c(8122),d=c.n(i),r=c(381),l=c.n(r),u=c(9755),_=c.n(u),h=c(347);c(5675);var m=!0;function p(e){var t;let c=null==e?void 0:null===(t=e.page_content)||void 0===t?void 0:t.orderList,[n,i]=(0,a.useState)(!1),[r,u]=(0,a.useState)("");console.log("orderList"),console.log(c);let m=async()=>{i(!0);try{var t,c,o,a;let n=null==e?void 0:null===(t=e.page_content)||void 0===t?void 0:null===(c=t.user)||void 0===c?void 0:c.bcId,s=null==e?void 0:null===(o=e.page_content)||void 0===o?void 0:null===(a=o.user)||void 0===a?void 0:a.access_token;if(n>0){let e=await fetch("https://demo.mwrweb.com/api/v1/login/verify",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({bcType:n,access_token:s})}),t=await e.json();(null==t?void 0:t.status)==!0?fetch(t.verfy_url,{mode:"no-cors",credentials:"include"}).then(e=>e.json()).then(e=>{i(!1)}).catch(e=>{i(!1)}):i(!1)}else i(!1)}catch(e){u("Something went wrong"),i(!1)}},p=async()=>{void 0!==c?c.length>0&&c.map(async(e,t)=>{let c=await fetch("".concat("https://demo.mwrweb.com/api/v1/","orders/products"),{method:"POST",body:JSON.stringify({id:e.id}),headers:{Accept:"application/json","Content-Type":"application/json"}}),o=await c.json();o.length>0&&o.map((t,c)=>{var o,a;let n=null===(o=null===(a=t.image)||void 0===a?void 0:a.data[0])||void 0===o?void 0:o.url_thumbnail;void 0!==n?_()(".productFigure-"+e.id).html('<img src="'.concat(n,'" width="100" height="100" alt="Product Image" />')):_()(".productFigure-"+e.id).html('<img src="https://cdn11.bigcommerce.com/s-suzeuussqe/images/stencil/original/image-manager/coming-soon.png" width="100" height="100" alt="Product Image" />')})}):(null==c?void 0:c.status)==!1&&i(!1)};return(0,a.useEffect)(()=>{m(),(null==c?void 0:c.status)!=!1&&p()},[]),(0,o.jsx)("div",{className:d().pageAccountBG,children:(0,o.jsxs)("div",{className:d().addressBook,children:[(0,o.jsxs)(s(),{children:[(0,o.jsx)("title",{children:"Orders"}),(0,o.jsx)("meta",{name:"description",content:"We're the 92d Force Support Squadron, at Fairchild Air Force Base, delivering exceptional experiences to REFUEL Airmen, their families and the Fairchild community. Join the FUN!"})]}),!0==n?(0,o.jsx)("span",{className:"loadingOverlay",style:{display:"block",position:"fixed"}}):"",(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("h1",{className:d().pageHead,children:"Orders"}),(0,o.jsx)(h.default,{isActive:"1"}),""!=r?(0,o.jsx)("span",{className:d().formMessge,children:r}):"",(0,o.jsx)("div",{className:d().accountContainer,children:(0,o.jsx)("div",{className:d().orderList,children:void 0!==c&&(null==c?void 0:c.length)>0?(0,o.jsx)("ul",{className:d().orderListUL,children:null==c?void 0:c.map((e,t)=>(0,o.jsx)("li",{className:d().accountListItem,children:(0,o.jsxs)("div",{className:d().accountProduct,children:[(0,o.jsx)("div",{className:d().productFigure+" productFigure-"+e.id,children:(0,o.jsx)("span",{className:d().productFigureLoad})}),(0,o.jsxs)("div",{className:d().productBody,children:[(0,o.jsxs)("div",{className:d().bodyContent,children:[(0,o.jsxs)("h5",{children:["Order #",e.id]}),(0,o.jsxs)("p",{children:[e.items_total," products totaling $",e.total_inc_tax]}),(0,o.jsxs)("div",{className:d().orderDates,children:[(0,o.jsxs)("div",{className:d().dates,children:[(0,o.jsx)("span",{className:d().label,children:"Order Placed "}),(0,o.jsx)("span",{className:d().date,children:l()(e.date_created).format("DD/MM/YYYY")})]}),(0,o.jsxs)("div",{className:d().dates,children:[(0,o.jsx)("span",{className:d().label,children:"Last Update"}),(0,o.jsx)("span",{className:d().date,children:l()(e.date_modified).format("DD/MM/YYYY")})]})]})]}),(0,o.jsx)("div",{className:d().bodyAction,children:(0,o.jsx)("span",{className:d().orderStatus,children:e.status})})]})]})},t))}):(0,o.jsxs)("div",{className:d().noOrder,children:[(0,o.jsxs)("svg",{height:"32",viewBox:"0 0 32 32",width:"32",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("defs",{}),(0,o.jsx)("path",{d:"M19,21H13a3,3,0,0,0-3,3v2h2V24a1,1,0,0,1,1-1h6a1,1,0,0,1,1,1v2h2V24A3,3,0,0,0,19,21Z"}),(0,o.jsx)("path",{d:"M16,20a4,4,0,1,0-4-4A4,4,0,0,0,16,20Zm0-6a2,2,0,1,1-2,2A2,2,0,0,1,16,14Z"}),(0,o.jsx)("path",{d:"M25,5H22V4a2,2,0,0,0-2-2H12a2,2,0,0,0-2,2V5H7A2,2,0,0,0,5,7V28a2,2,0,0,0,2,2H25a2,2,0,0,0,2-2V7A2,2,0,0,0,25,5ZM12,4h8V8H12ZM25,28H7V7h3v3H22V7h3Z"})]}),(0,o.jsx)("p",{children:"No upcoming orders"})]})})})]})]})})}},8122:function(e){e.exports={divRow:"account_divRow__pO6AW","d-flex":"account_d-flex__f3tWw","d-flex-between":"account_d-flex-between__auzeR",eleLazyLoad:"account_eleLazyLoad__VtLLO",orderList:"account_orderList__i6_xT",orderListUL:"account_orderListUL__AeTlx",accountProduct:"account_accountProduct__whSVt",productFigure:"account_productFigure__RCIfp",productFigureLoad:"account_productFigureLoad__WfS1T",placeHolderShimmer:"account_placeHolderShimmer__C5LwK",accountNavigation:"account_accountNavigation__0HNF1",isActive:"account_isActive__qHlMD",pageAccountBG:"account_pageAccountBG__uGeBc",pageAccount:"account_pageAccount__4Fhuq",accountContainer:"account_accountContainer__FLs7O",pageHead:"account_pageHead__MCUhQ",profilePhoto:"account_profilePhoto__VFlEY",uploadedImg:"account_uploadedImg__uxBBo",formMessge:"account_formMessge__XbOJf",formBuilder:"account_formBuilder__yP5yI",formGroup:"account_formGroup__YQmTy",formControl:"account_formControl__jCmqq",formAction:"account_formAction__LmRy1",buttonCancel:"account_buttonCancel__j_5iD",buttonSubmit:"account_buttonSubmit__8BOel",addressBook:"account_addressBook__OAfdQ",addressBookList:"account_addressBookList__ctYwp",edit:"account_edit__nxxPB",delete:"account_delete__8MPG1",addressBookNew:"account_addressBookNew__IrLjq",accountListItem:"account_accountListItem__bV5fC",productBody:"account_productBody__NY5zd",bodyContent:"account_bodyContent__c3IsO",orderDates:"account_orderDates__K8iBg",dates:"account_dates__3f04T",label:"account_label___zzSB",date:"account_date___GybF",bodyAction:"account_bodyAction__wEOtN",orderStatus:"account_orderStatus__8YVbK",orderQrCode:"account_orderQrCode__kdI8t",noOrder:"account_noOrder__vrv_D"}},9008:function(e,t,c){e.exports=c(2636)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=7393)}),_N_E=e.O()}]);