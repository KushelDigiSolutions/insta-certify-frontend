(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[14],{3670:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/address",function(){return a(1956)}])},1956:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return v},default:function(){return x}});var n=a(5893),o=a(7294),s=a(9008),r=a.n(s),c=a(8122),d=a.n(c),i=a(751),l=a(9755),u=a.n(l);function m(e){let[t,a]=(0,o.useState)([]),s=async()=>{let t=await fetch("".concat("https://demo.mwrweb.com/api/v1/","geography/countries")),n=await t.json();!1!=n.status&&(a(n),setTimeout(()=>{if(""!=e.dataValueName){let t=u()('option[datacountry="'+e.dataValueName+'"]').attr("value");u()("#countryDropdown").val(t).trigger("change"),e.dataSetValueName(e.dataValueName)}},2e3))},r=t=>{e.dataSetLoad(!0);let a=t.target.value,n=u()('option[value="'+t.target.value+'"]').attr("datacountry");e.dataSetValue(a),void 0!==n?e.dataSetValueName(n):e.dataSetValueName(a)};return(0,o.useEffect)(()=>{s()},[e.dataValueName]),(0,n.jsx)(n.Fragment,{children:t.length>0?(0,n.jsxs)("select",{id:"countryDropdown",value:e.dataValue,onChange:e=>{r(e)},children:[(0,n.jsx)("option",{value:"",children:"Choose a Country"}),t.length>0&&t.map((e,t)=>(0,n.jsx)("option",{value:e.id,datacountry:e.country_iso2,children:e.country},t))]}):(0,n.jsx)("input",{type:"text",maxLength:"30",value:e.dataValue,onChange:e=>{r(e)}})})}function p(e){let[t,a]=(0,o.useState)([]),s=async t=>{if(""!=t){let n=await fetch("".concat("https://demo.mwrweb.com/api/v1/","geography/states"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:t})}),o=await n.json();!1==o.status?(a([]),e.dataSetValue(""),e.dataSetValueName("")):(e.dataSetValue(""),e.dataSetValueName(""),a(o))}else e.dataSetValue(""),e.dataSetValueName(""),a([]);e.dataSetLoad(!1)},r=t=>{let a=t.target.value,n=u()('option[value="'+t.target.value+'"]').attr("datastate");e.dataSetValue(a),void 0!==n?(e.dataSetValueName(n),e.dataSetUpdateName(n)):(e.dataSetValueName(a),e.dataSetUpdateName(a))};return(0,o.useEffect)(()=>{setTimeout(()=>{s(e.dataCountryID)},1e3)},[e.dataCountryID]),(0,n.jsx)(n.Fragment,{children:t.length>0?(0,n.jsxs)("select",{id:"stateDrodown",value:e.dataValue,onChange:e=>{r(e)},children:[(0,n.jsx)("option",{value:"",children:"Choose a State"}),t.length>0&&t.map((e,t)=>(0,n.jsx)("option",{value:e.state,datastate:e.state,children:e.state},t))]}):(0,n.jsx)("input",{id:"stateDrodown",type:"text",maxLength:"30",value:e.dataUpdateName,onChange:e=>{r(e)}})})}var _=a(1163),h=a(1955),f=a(347),v=!0;function x(e){var t;let[a,s]=(0,o.useState)(!1),[c,l]=(0,o.useState)(!1),[u,v]=(0,o.useState)(""),x=(0,_.useRouter)(),[g,j]=(0,o.useState)("add"),[y,b]=(0,o.useState)(""),[N,S]=(0,o.useState)(""),[C,w]=(0,o.useState)(""),[A,L]=(0,o.useState)(""),[V,k]=(0,o.useState)(""),[O,B]=(0,o.useState)(""),[F,D]=(0,o.useState)(""),[I,T]=(0,o.useState)(""),[U,P]=(0,o.useState)(""),[E,G]=(0,o.useState)(""),[R,Z]=(0,o.useState)(""),[z,H]=(0,o.useState)(""),[q,J]=(0,o.useState)(""),M=null==e?void 0:null===(t=e.page_content)||void 0===t?void 0:t.user,Q=async()=>{s(!0);let e=h.Z.get("customer_address");if(void 0!==e&&e>0){let t=await fetch("".concat("https://demo.mwrweb.com/api/v1/","customer-address/get"),{method:"POST",body:JSON.stringify({customer_id:M.bcId,address_id:e}),headers:{Accept:"application/json","Content-Type":"application/json"}}),a=await t.json();if(a.data.length>0){j("update");let e=a.data[0];b(e.first_name),S(e.last_name),w(e.company),L(e.phone),k(e.address1),B(e.address2),D(e.city),P(e.country_code),Z(e.state_or_province),H(e.state_or_province),J(e.postal_code),s(!1)}else h.Z.remove("customer_address"),s(!1)}else h.Z.remove("customer_address"),s(!1)};(0,i.Z)(),(0,o.useEffect)(()=>{Q()},[]);let Y=async()=>{s(!0);let e={customer_id:M.bcId,first_name:y,last_name:N,company:C,phone:A,address1:V,address2:O,city:F,country_code:U,state_or_province:R,postal_code:q},t=await fetch("".concat("https://demo.mwrweb.com/api/v1/","customer-address/create"),{method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"}}),a=await t.json();!1==a.status?(v("Something went wrong please try again."),s(!1)):0==a.data.length?(v("Already exists."),s(!1)):x.push("/account/address-book")},W=async()=>{let e=h.Z.get("customer_address");s(!0);let t={id:parseInt(e),first_name:y,last_name:N,company:C,phone:A,address1:V,address2:O,city:F,country_code:U,state_or_province:R,postal_code:q},a=await fetch("".concat("https://demo.mwrweb.com/api/v1/","customer-address/update"),{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}),n=await a.json();!1==n.status?(v("Something went wrong please try again."),s(!1)):(h.Z.remove("customer_address"),x.push("/account/address-book"))};return(0,n.jsx)("div",{className:d().pageAccountBG,children:(0,n.jsxs)("div",{className:d().pageAccount,children:[(0,n.jsxs)(r(),{children:[(0,n.jsx)("title",{children:"add"==g?"Add Address":"Update Address"}),(0,n.jsx)("meta",{name:"description",content:"We're the 92d Force Support Squadron, at Fairchild Air Force Base, delivering exceptional experiences to REFUEL Airmen, their families and the Fairchild community. Join the FUN!"})]}),!0==a?(0,n.jsx)("span",{className:"loadingOverlay",style:{display:"block",position:"fixed"}}):"",(0,n.jsxs)("div",{className:"container",children:[(0,n.jsxs)("h1",{className:d().pageHead,children:[" ","add"==g?"Add Address":"Update Address"]}),(0,n.jsx)(f.default,{isActive:"2"}),(0,n.jsx)("div",{className:d().accountContainer,children:(0,n.jsx)("div",{className:d().formBuilder,children:(0,n.jsxs)("form",{method:"POST",onSubmit:e=>{if(e.preventDefault(),v(""),""==y)v("First Name field cannot be blank."),l(!1);else if(""==N)v("Last Name field cannot be blank."),l(!1);else if(""==V)v("Address Line 1 field cannot be blank."),l(!1);else{if(""==F)return v("City field cannot be blank."),l(!1),!1;if(""==I)return v("Country field cannot be blank."),l(!1),!1;if(""==E)return v("State field cannot be blank."),l(!1),!1;if(""==q)return v("Zip/Postcode field cannot be blank."),l(!1),!1;v(""),l(!0),"add"==g?Y():W()}},encType:"multipart/form-data",children:[""!=u?(0,n.jsx)("span",{className:d().formMessge,children:u}):"",(0,n.jsxs)("div",{className:d().formGroup,children:[(0,n.jsxs)("div",{className:d().formControl,children:[(0,n.jsxs)("label",{children:["First Name ",(0,n.jsx)("small",{children:"*"})]}),(0,n.jsx)("input",{type:"text",maxLength:"30",value:y,onChange:e=>b(e.target.value)})]}),(0,n.jsxs)("div",{className:d().formControl,children:[(0,n.jsxs)("label",{children:["Last Name ",(0,n.jsx)("small",{children:"*"})]}),(0,n.jsx)("input",{type:"text",maxLength:"30",value:N,onChange:e=>S(e.target.value)})]})]}),(0,n.jsxs)("div",{className:d().formGroup,children:[(0,n.jsxs)("div",{className:d().formControl,children:[(0,n.jsx)("label",{children:"Company"}),(0,n.jsx)("input",{type:"text",value:C,maxLength:"30",onChange:e=>w(e.target.value)})]}),(0,n.jsxs)("div",{className:d().formControl,children:[(0,n.jsx)("label",{children:"Phone Number"}),(0,n.jsx)("input",{type:"text",maxLength:"13",className:"numberOnly",value:A,onChange:e=>L(e.target.value)})]})]}),(0,n.jsx)("div",{className:d().formGroup,children:(0,n.jsxs)("div",{className:d().formControl,children:[(0,n.jsxs)("label",{children:["Address Line 1",(0,n.jsx)("small",{children:"*"})]}),(0,n.jsx)("input",{type:"text",value:V,onChange:e=>k(e.target.value)})]})}),(0,n.jsx)("div",{className:d().formGroup,children:(0,n.jsxs)("div",{className:d().formControl,children:[(0,n.jsx)("label",{children:"Address Line 2"}),(0,n.jsx)("input",{type:"text",value:O,maxLength:"50",onChange:e=>B(e.target.value)})]})}),(0,n.jsxs)("div",{className:d().formGroup,children:[(0,n.jsxs)("div",{className:d().formControl,children:[(0,n.jsxs)("label",{children:["City ",(0,n.jsx)("small",{children:"*"})]}),(0,n.jsx)("input",{type:"text",maxLength:"20",value:F,onChange:e=>D(e.target.value)})]}),(0,n.jsxs)("div",{className:d().formControl,children:[(0,n.jsxs)("label",{children:["Country ",(0,n.jsx)("small",{children:"*"})]}),(0,n.jsx)(m,{dataLoad:a,dataSetLoad:s,dataValue:I,dataSetValue:T,dataValueName:U,dataSetValueName:P})]})]}),(0,n.jsxs)("div",{className:d().formGroup,children:[(0,n.jsxs)("div",{className:d().formControl,children:[(0,n.jsxs)("label",{children:["State ",(0,n.jsx)("small",{children:"*"})]}),(0,n.jsx)(p,{dataLoad:a,dataSetLoad:s,dataUpdateName:z,dataSetUpdateName:H,dataValue:E,dataSetValue:G,dataValueName:R,dataSetValueName:Z,dataCountryID:I})]}),(0,n.jsxs)("div",{className:d().formControl,children:[(0,n.jsxs)("label",{children:["Zip/Postal Code ",(0,n.jsx)("small",{children:"*"})," "]}),(0,n.jsx)("input",{type:"text",value:q,maxLength:"15",onChange:e=>J(e.target.value)})]})]}),(0,n.jsxs)("div",{className:d().formAction,children:[(0,n.jsx)("button",{type:"submit",className:d().buttonSubmit,children:"Save Address"}),(0,n.jsx)("span",{className:d().buttonCancel,onClick:()=>{h.Z.remove("customer_address"),x.push("/account/address-book")},children:"Cancel"})]})]})})})]})]})})}},347:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var n=a(5893),o=a(1664),s=a.n(o);a(7294);var r=a(8122),c=a.n(r);function d(e){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:c().accountNavigation,children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{className:"1"==e.isActive?c().isActive:"",children:(0,n.jsx)(s(),{href:"/account/order",children:"Orders"})}),(0,n.jsx)("li",{className:"2"==e.isActive?c().isActive:"",children:(0,n.jsx)(s(),{href:"/account/address-book",children:"Addresses"})}),(0,n.jsx)("li",{className:"3"==e.isActive?c().isActive:"",children:(0,n.jsx)(s(),{href:"/account/account-details",children:"Account Settings"})})]})})})}},751:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var n=a(9755),o=a.n(n),s=a(7294);function r(){(0,s.useEffect)(function(){o()(".numberOnly").bind("copy paste",function(e){e.preventDefault()}),o()(".numberOnly").on("keypress",function(e){if("paste"===e.type)t=e.clipboardData.getData("text/plain");else{var t=e.keyCode||e.which;t=String.fromCharCode(t)}!/[0-9]|\./.test(t)&&(e.returnValue=!1,e.preventDefault&&e.preventDefault())})},[])}},8122:function(e){e.exports={divRow:"account_divRow__pO6AW","d-flex":"account_d-flex__f3tWw","d-flex-between":"account_d-flex-between__auzeR",eleLazyLoad:"account_eleLazyLoad__VtLLO",orderList:"account_orderList__i6_xT",orderListUL:"account_orderListUL__AeTlx",accountProduct:"account_accountProduct__whSVt",productFigure:"account_productFigure__RCIfp",productFigureLoad:"account_productFigureLoad__WfS1T",placeHolderShimmer:"account_placeHolderShimmer__C5LwK",accountNavigation:"account_accountNavigation__0HNF1",isActive:"account_isActive__qHlMD",pageAccountBG:"account_pageAccountBG__uGeBc",pageAccount:"account_pageAccount__4Fhuq",accountContainer:"account_accountContainer__FLs7O",pageHead:"account_pageHead__MCUhQ",profilePhoto:"account_profilePhoto__VFlEY",uploadedImg:"account_uploadedImg__uxBBo",formMessge:"account_formMessge__XbOJf",formBuilder:"account_formBuilder__yP5yI",formGroup:"account_formGroup__YQmTy",formControl:"account_formControl__jCmqq",formAction:"account_formAction__LmRy1",buttonCancel:"account_buttonCancel__j_5iD",buttonSubmit:"account_buttonSubmit__8BOel",addressBook:"account_addressBook__OAfdQ",addressBookList:"account_addressBookList__ctYwp",edit:"account_edit__nxxPB",delete:"account_delete__8MPG1",addressBookNew:"account_addressBookNew__IrLjq",accountListItem:"account_accountListItem__bV5fC",productBody:"account_productBody__NY5zd",bodyContent:"account_bodyContent__c3IsO",orderDates:"account_orderDates__K8iBg",dates:"account_dates__3f04T",label:"account_label___zzSB",date:"account_date___GybF",bodyAction:"account_bodyAction__wEOtN",orderStatus:"account_orderStatus__8YVbK",orderQrCode:"account_orderQrCode__kdI8t",noOrder:"account_noOrder__vrv_D"}},9008:function(e,t,a){e.exports=a(2636)},1955:function(e,t,a){"use strict";/*! js-cookie v3.0.5 | MIT */function n(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)e[n]=a[n]}return e}a.d(t,{Z:function(){return o}});var o=function e(t,a){function o(e,o,s){if("undefined"!=typeof document){"number"==typeof(s=n({},a,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var c in s)s[c]&&(r+="; "+c,!0!==s[c]&&(r+="="+s[c].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+r}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var a=document.cookie?document.cookie.split("; "):[],n={},o=0;o<a.length;o++){var s=a[o].split("="),r=s.slice(1).join("=");try{var c=decodeURIComponent(s[0]);if(n[c]=t.read(r,c),e===c)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){o(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(a)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3670)}),_N_E=e.O()}]);